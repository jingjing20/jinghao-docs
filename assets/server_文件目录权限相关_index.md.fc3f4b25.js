import{_ as s,o as a,c as e,V as n}from"./chunks/framework.364d6ed5.js";const l="/assets/image-1.54187c5f.png",o="/assets/image.df2dd1e5.png",p="/assets/image-2.8f564034.png",r="/assets/image-3.9bb008cf.png",c="/assets/image-4.81e0da4e.png",t="/assets/image-5.d7abe6a2.png",i="/assets/image-6.bc7b7bcc.png",d="/assets/image-7.0eddf028.png",u="/assets/image-8.221ea577.png",C="/assets/image-9.cc67f92b.png",k=JSON.parse('{"title":"文件、目录、用户、权限相关","description":"","frontmatter":{},"headers":[],"relativePath":"server/文件目录权限相关/index.md","filePath":"server/文件目录权限相关/index.md","lastUpdated":1716968223000}'),h={name:"server/文件目录权限相关/index.md"},m=n('<h1 id="文件、目录、用户、权限相关" tabindex="-1">文件、目录、用户、权限相关 <a class="header-anchor" href="#文件、目录、用户、权限相关" aria-label="Permalink to &quot;文件、目录、用户、权限相关&quot;">​</a></h1><h2 id="文件目录权限" tabindex="-1">文件目录权限 <a class="header-anchor" href="#文件目录权限" aria-label="Permalink to &quot;文件目录权限&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">文件和目录的权限</p><ul><li>在 <code>Linux</code> 系统中，文件和目录的权限管理是保障系统安全和用户数据安全的关键部分。</li><li><span style="color:#8470FF;"><strong>文件和目录的权限定义了哪些用户或用户组可以读、写或执行文件和目录</strong></span></li></ul></div><h3 id="基本概念" tabindex="-1">基本概念 <a class="header-anchor" href="#基本概念" aria-label="Permalink to &quot;基本概念&quot;">​</a></h3><h3 id="文件类型" tabindex="-1">文件类型 <a class="header-anchor" href="#文件类型" aria-label="Permalink to &quot;文件类型&quot;">​</a></h3><ul><li><strong>普通文件</strong>：-</li><li><strong>目录</strong>：d</li><li><strong>符号链接</strong>：l</li><li><strong>块设备文件</strong>：b</li><li><strong>字符设备文件</strong>：c</li><li><strong>管道文件</strong>：p</li><li><strong>套接字文件</strong>：s</li></ul><h3 id="权限类型" tabindex="-1">权限类型 <a class="header-anchor" href="#权限类型" aria-label="Permalink to &quot;权限类型&quot;">​</a></h3><p><img src="'+l+'" alt="alt text"></p><ul><li><strong>读权限（r）</strong>：可以查看文件内容或列出目录内容。</li><li><strong>写权限（w）</strong>：可以修改文件内容或在目录中创建、删除文件。</li><li><strong>执行权限（x）</strong>：可以运行可执行文件或进入目录。</li></ul><h3 id="权限表示" tabindex="-1">权限表示 <a class="header-anchor" href="#权限表示" aria-label="Permalink to &quot;权限表示&quot;">​</a></h3><p><img src="'+o+'" alt="alt text"></p><ul><li>文件和目录的权限使用 <code>10</code> 个字符表示</li><li>第一个字符表示文件还是目录</li><li>后 <code>9</code> 个字符分为三组，每组三个字符，分别表示文件所有者、所属组和其他用户的权限。</li></ul><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">-rwxr-xr--</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>第一个字符表示文件类型。</li><li>接下来的三个字符表示文件所有者的权限（rwx）。</li><li>中间的三个字符表示所属组的权限（r-x）。</li><li>最后三个字符表示其他用户的权限（r--）。</li></ul><h3 id="更改权限" tabindex="-1">更改权限 <a class="header-anchor" href="#更改权限" aria-label="Permalink to &quot;更改权限&quot;">​</a></h3><h3 id="使用-chmod-命令" tabindex="-1">使用 <code>chmod</code> 命令 <a class="header-anchor" href="#使用-chmod-命令" aria-label="Permalink to &quot;使用 `chmod` 命令&quot;">​</a></h3><p><code>chmod</code> 命令用于更改文件和目录的权限。</p><ul><li><p><strong>数字表示法</strong>：</p><ul><li>读（r） = 4</li><li>写（w） = 2</li><li>执行（x） = 1</li></ul><p>例如，设置文件权限为 <code>rwxr-xr--</code>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">754</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filename</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong>符号表示法</strong>：</p><ul><li><code>u</code>：所有者</li><li><code>g</code>：所属组</li><li><code>o</code>：其他用户</li><li><code>a</code>：所有用户</li></ul><p>例如，添加所有者的写权限：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">u+w</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filename</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="使用-chown-命令" tabindex="-1">使用 <code>chown</code> 命令 <a class="header-anchor" href="#使用-chown-命令" aria-label="Permalink to &quot;使用 `chown` 命令&quot;">​</a></h3><p><code>chown</code> 命令用于更改文件和目录的所有者和所属组。</p><ul><li>更改所有者：</li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">chown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">new_owner</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filename</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>更改所属组：</li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">chown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">:new_group</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filename</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>更改所有者和所属组：</li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">chown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">new_owner:new_group</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filename</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="使用-chgrp-命令" tabindex="-1">使用 <code>chgrp</code> 命令 <a class="header-anchor" href="#使用-chgrp-命令" aria-label="Permalink to &quot;使用 `chgrp` 命令&quot;">​</a></h3><p><code>chgrp</code> 命令用于更改文件和目录的所属组。</p><ul><li>更改所属组：</li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">chgrp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">new_group</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filename</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="实操一波" tabindex="-1">实操一波 <a class="header-anchor" href="#实操一波" aria-label="Permalink to &quot;实操一波&quot;">​</a></h3><h3 id="修改资源的拥有权" tabindex="-1">修改资源的拥有权 <a class="header-anchor" href="#修改资源的拥有权" aria-label="Permalink to &quot;修改资源的拥有权&quot;">​</a></h3><ul><li>我在自己的服务器实操了一波</li><li>下图是我在 <code>wangzhihao</code> 用户的 <code>documents</code> 目录下尝试使用 <code>su jingjing -c &#39;touch jingjing.txt&#39;</code> 命令以 <code>jingjing</code> 用户创建文件 <code>jingjing.txt</code></li><li>命令执行不成功，报没有权限的错误了。</li></ul><div class="warning custom-block"><p class="custom-block-title">报错原因</p><ul><li><p>可以通过 <code>ls -la</code> 查看 <code>documents</code> 目录的权限，可以看到 <code>documents</code> 目录的权限为：<code>drwxrwxr-x</code>。</p></li><li><p>这个含义是：所有者拥有 <code>documents</code> 目录的 <code>rwx</code> 权限，所属组拥有 <code>documents</code> 目录的 <code>rwx</code> 权限，其他用户拥有 <code>documents</code> 目录的 <code>r-x</code> 权限。</p></li><li><p><code>jingjing</code> 这个用户属于其他用户，只有 <code>r-x</code> <span style="color:#8470FF;">【读取和执行，没有写入】</span>权限，所以执行 <code>su jingjing -c &#39;touch jingjing.txt&#39;</code> 就会报错了</p></li></ul></div><p><img src="'+p+'" alt="alt text"></p><ul><li>使用 <code>groups jingjing</code> 查看 <code>jingjing</code> 用户的所属组，可以看到 <code>jingjing</code> 用户属于 <code>friends</code> 组。</li></ul><p><img src="'+r+'" alt="alt text"></p><ul><li>上面我们知道 <code>documents</code> 的所属组也拥有 <code>documents</code> 目录的 <code>rwx</code> 权限，所以我们只要将 <code>documents</code> 目录的所属组改成 <code>friends</code> 就可以了。</li></ul><div class="tip custom-block"><p class="custom-block-title">使用 <code>chown</code> 命令</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wangzhihao:friends</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/home/wangzhihao/documents</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+c+'" alt="alt text"></p><ul><li><p>可以看到 <code>documents</code> 目录的所属组变成了 <code>friends</code> 了。</p></li><li><p>现在可以再次尝执行 <code>su jingjing -c &#39;touch jingjing.txt&#39;</code> 命令了，这次命令执行成功了，在 <code>documents</code> 目录下成功创建了 <code>jingjing.txt</code> 文件，同时注意 <code>jingjing.txt</code> 文件的所有者和所属组都是 <code>jingjing</code> 用户。</p></li></ul><p><img src="'+t+'" alt="alt text"></p></div><h3 id="修改资源的权限" tabindex="-1">修改资源的权限 <a class="header-anchor" href="#修改资源的权限" aria-label="Permalink to &quot;修改资源的权限&quot;">​</a></h3><ul><li>在上一节的基础上继续实操</li></ul><p><img src="'+i+`" alt="alt text"></p><ul><li><p>当前用户是 <code>wangzhihao</code> ，想往 <code>jingjing.txt</code> 文件中写入一些内容，但是报错了。</p></li><li><p>原因是 <code>jingjing.txt</code> 文件的所有者、所属组都属于用户 <code>jingjing</code>，同时文件的权限描述符为： <code>-rw-r--r--</code></p></li><li><p>所以 <code>wangzhihao</code> 用户没有权限写入 <code>documents</code> 目录下的 <code>jingjing.txt</code> 文件。</p></li><li><p>要使 <code>wangzhihao</code> 用户拥有 <code>jingjing.txt</code> 文件的写入权限有两种办法：</p><ul><li>1、直接修改 <code>jingjing.txt</code> 文件的权限描述符，使其对其他用户开放可写入 <code>w</code> 权限</li><li>2、修改 <code>jingjing.txt</code> 文件的所属组，再对所属组开放可写入 <code>w</code> 权限</li></ul></li><li><p>这里采用第二种方式，更安全一些。</p></li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">jingjing:friends</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">jingjing.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">ls</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-la</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="`+d+`" alt="alt text"></p><ul><li>可以看到 <code>jingjing.txt</code> 文件的所属组变成了 <code>friends</code> 了</li><li>同时注意 <code>jingjing.txt</code> 文件的权限描述符为： <code>-rw-r--r--</code>，代表目前 所属组 还是只有读取权限 <code>r</code> ，没有 <code>w</code> 权限，现在想往里写入内容，还是会报错的。</li><li>执行命令：</li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">g=rw</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">jingjing.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">ls</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-la</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>g=rw</code> 含义见上文 符号表示法</li></ul><p><img src="`+u+'" alt="alt text"></p><ul><li>可以看到 <code>jingjing.txt</code> 文件的权限描述符变成了 <code>-rw-rw-r--</code> 了</li><li>现在所属组就可以往里写入内容了。</li></ul><p><img src="'+C+'" alt="alt text"></p><h3 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h3><p>Linux 文件和目录权限通过 <code>r</code>、<code>w</code>、<code>x</code> 三种权限的组合，以及所有者、所属组和其他用户三类角色进行管理。使用 <code>chmod</code>、<code>chown</code> 和 <code>chgrp</code> 命令可以方便地管理文件和目录的权限和所有权，确保系统的安全和多用户环境下的数据安全。</p><h2 id="用户管理-useradd" tabindex="-1">用户管理 useradd <a class="header-anchor" href="#用户管理-useradd" aria-label="Permalink to &quot;用户管理 useradd&quot;">​</a></h2><p><code>useradd</code> 是一个用于在 Linux 系统中创建新用户帐户的命令。通过 <code>useradd</code>，系统管理员可以添加新用户，并设置其初始属性，如主目录、用户 ID、组等。</p><h3 id="基本语法" tabindex="-1">基本语法 <a class="header-anchor" href="#基本语法" aria-label="Permalink to &quot;基本语法&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> [选项] 用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="常用选项" tabindex="-1">常用选项 <a class="header-anchor" href="#常用选项" aria-label="Permalink to &quot;常用选项&quot;">​</a></h3><h3 id="指定用户主目录" tabindex="-1">指定用户主目录 <a class="header-anchor" href="#指定用户主目录" aria-label="Permalink to &quot;指定用户主目录&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">主目录路径</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>例如，为用户 <code>username</code> 指定主目录为 <code>/home/username</code>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/home/username</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="创建主目录" tabindex="-1">创建主目录 <a class="header-anchor" href="#创建主目录" aria-label="Permalink to &quot;创建主目录&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这会在默认的 <code>/home</code> 目录下创建一个新的主目录。</p><h3 id="指定用户-id-uid" tabindex="-1">指定用户 ID (UID) <a class="header-anchor" href="#指定用户-id-uid" aria-label="Permalink to &quot;指定用户 ID (UID)&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">UID</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>例如，创建一个 UID 为 2000 的用户：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="指定用户组" tabindex="-1">指定用户组 <a class="header-anchor" href="#指定用户组" aria-label="Permalink to &quot;指定用户组&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">组名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>例如，创建用户并将其初始组设置为 <code>groupname</code>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">groupname</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="添加到附加组" tabindex="-1">添加到附加组 <a class="header-anchor" href="#添加到附加组" aria-label="Permalink to &quot;添加到附加组&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-G</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">组名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>例如，将用户添加到附加组 <code>group1</code> 和 <code>group2</code>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-G</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">group1,group2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="指定用户登录-shell" tabindex="-1">指定用户登录 Shell <a class="header-anchor" href="#指定用户登录-shell" aria-label="Permalink to &quot;指定用户登录 Shell&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>例如，将用户的默认登录 Shell 设置为 <code>/bin/bash</code>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/bin/bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="设置帐户到期日期" tabindex="-1">设置帐户到期日期 <a class="header-anchor" href="#设置帐户到期日期" aria-label="Permalink to &quot;设置帐户到期日期&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">YYYY-MM-DD</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>例如，创建一个帐户到期日期为 2024-12-31 的用户：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2024</span><span style="color:#C3E88D;">-12-31</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="设置用户描述信息" tabindex="-1">设置用户描述信息 <a class="header-anchor" href="#设置用户描述信息" aria-label="Permalink to &quot;设置用户描述信息&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">用户描述</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>例如，添加用户并设置描述信息为 &quot;John Doe&quot;:</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">John Doe</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h3><ul><li><p><strong>创建一个用户 <code>john</code> 并创建默认主目录</strong>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">john</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong>创建用户 <code>jane</code> 并指定主目录为 <code>/home/jane</code></strong>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/home/jane</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">jane</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong>创建用户 <code>bob</code> 并指定 UID 为 2001</strong>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2001</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bob</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong>创建用户 <code>alice</code> 并指定其初始组为 <code>developers</code></strong>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">developers</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">alice</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong>创建用户 <code>carol</code> 并将其添加到附加组 <code>sudo</code> 和 <code>docker</code></strong>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-G</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo,docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">carol</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong>创建用户 <code>dave</code> 并指定其登录 Shell 为 <code>/bin/zsh</code></strong>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/bin/zsh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dave</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong>创建用户 <code>eve</code> 并设置其帐户到期日期为 2024-12-31</strong>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2024</span><span style="color:#C3E88D;">-12-31</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eve</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong>创建用户 <code>frank</code> 并设置描述信息为 &quot;Frank Miller&quot;</strong>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">useradd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Frank Miller</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">frank</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h3 id="总结-1" tabindex="-1">总结 <a class="header-anchor" href="#总结-1" aria-label="Permalink to &quot;总结&quot;">​</a></h3><p><code>useradd</code> 命令是 Linux 系统中添加新用户帐户的基本工具。通过使用 <code>useradd</code> 的各种选项，可以灵活地配置新用户的属性，包括主目录、用户 ID、组、登录 Shell 和帐户到期日期等。掌握 <code>useradd</code> 命令有助于有效地管理系统用户，确保系统的灵活性和安全性。</p><h2 id="用户管理-usermod" tabindex="-1">用户管理 usermod <a class="header-anchor" href="#用户管理-usermod" aria-label="Permalink to &quot;用户管理 usermod&quot;">​</a></h2><p><code>usermod</code> 是一个用于修改现有用户帐户属性的命令。在 Linux 系统中，用户管理是系统管理的重要部分，<code>usermod</code> 命令可以帮助系统管理员更改用户信息、权限和组等。</p><h3 id="基本语法-1" tabindex="-1">基本语法 <a class="header-anchor" href="#基本语法-1" aria-label="Permalink to &quot;基本语法&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> [选项] 用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="常用选项-1" tabindex="-1">常用选项 <a class="header-anchor" href="#常用选项-1" aria-label="Permalink to &quot;常用选项&quot;">​</a></h3><h3 id="更改用户登录名" tabindex="-1">更改用户登录名 <a class="header-anchor" href="#更改用户登录名" aria-label="Permalink to &quot;更改用户登录名&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">新用户名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">旧用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="更改用户主目录" tabindex="-1">更改用户主目录 <a class="header-anchor" href="#更改用户主目录" aria-label="Permalink to &quot;更改用户主目录&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">新主目录</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>-d</code> 选项用于指定新的主目录路径，<code>-m</code> 选项将当前主目录的内容移动到新主目录。</p><h3 id="更改用户-id-uid" tabindex="-1">更改用户 ID (UID) <a class="header-anchor" href="#更改用户-id-uid" aria-label="Permalink to &quot;更改用户 ID (UID)&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">新UID</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="更改用户初始组" tabindex="-1">更改用户初始组 <a class="header-anchor" href="#更改用户初始组" aria-label="Permalink to &quot;更改用户初始组&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">新组</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="添加用户到新的附加组" tabindex="-1">添加用户到新的附加组 <a class="header-anchor" href="#添加用户到新的附加组" aria-label="Permalink to &quot;添加用户到新的附加组&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-aG</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">组名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>-a</code> 选项用于追加用户到附加组，而不从现有组中移除。<code>-G</code> 选项用于指定附加组。</p><h3 id="锁定用户帐户" tabindex="-1">锁定用户帐户 <a class="header-anchor" href="#锁定用户帐户" aria-label="Permalink to &quot;锁定用户帐户&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-L</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>锁定后，用户将无法登录系统。</p><h3 id="解锁用户帐户" tabindex="-1">解锁用户帐户 <a class="header-anchor" href="#解锁用户帐户" aria-label="Permalink to &quot;解锁用户帐户&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-U</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>解锁用户帐户以允许用户登录系统。</p><h3 id="修改用户登录-shell" tabindex="-1">修改用户登录 Shell <a class="header-anchor" href="#修改用户登录-shell" aria-label="Permalink to &quot;修改用户登录 Shell&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">新Shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>例如，将用户的登录 Shell 更改为 <code>/bin/bash</code>：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/bin/bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="更改用户到期日期" tabindex="-1">更改用户到期日期 <a class="header-anchor" href="#更改用户到期日期" aria-label="Permalink to &quot;更改用户到期日期&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">YYYY-MM-DD</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>指定用户帐户的到期日期。</p><h3 id="删除用户密码" tabindex="-1">删除用户密码 <a class="header-anchor" href="#删除用户密码" aria-label="Permalink to &quot;删除用户密码&quot;">​</a></h3><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这会删除用户的密码，使用户无法登录。</p><h3 id="示例-1" tabindex="-1">示例 <a class="header-anchor" href="#示例-1" aria-label="Permalink to &quot;示例&quot;">​</a></h3><ul><li><strong>更改用户登录名</strong>：将用户 <code>oldname</code> 的登录名更改为 <code>newname</code></li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">newname</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">oldname</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>更改用户主目录</strong>：将用户 <code>username</code> 的主目录更改为 <code>/home/newhome</code> 并移动当前主目录内容</li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/home/newhome</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>更改用户 ID</strong>：将用户 <code>username</code> 的 UID 更改为 2000</li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>更改用户初始组</strong>：将用户 <code>username</code> 的初始组更改为 <code>newgroup</code></li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">newgroup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>添加用户到附加组</strong>：将用户 <code>username</code> 添加到 <code>group1</code> 和 <code>group2</code></li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-aG</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">group1,group2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>锁定用户帐户</strong>：锁定用户 <code>username</code></li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-L</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>解锁用户帐户</strong>：解锁用户 <code>username</code></li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-U</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>更改用户登录 Shell</strong>：将用户 <code>username</code> 的登录 Shell 更改为 <code>/bin/bash</code></li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/bin/bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>更改用户到期日期</strong>：将用户 <code>username</code> 的帐户到期日期设置为 2024-12-31</li></ul><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">usermod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2024</span><span style="color:#C3E88D;">-12-31</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="总结-2" tabindex="-1">总结 <a class="header-anchor" href="#总结-2" aria-label="Permalink to &quot;总结&quot;">​</a></h3><p><code>usermod</code> 命令是 Linux 系统中强大的用户管理工具，能够修改用户的各种属性，包括登录名、主目录、用户 ID、组和登录 Shell 等。熟练使用 <code>usermod</code> 可以有效地管理系统用户，确保系统的灵活性和安全性。</p>',147),y=[m];function b(g,D,A,v,E,F){return a(),e("div",null,y)}const w=s(h,[["render",b]]);export{k as __pageData,w as default};
